(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{481:function(e,t,n){"use strict";n.r(t);var r=n(7),c=(n(29),n(57),n(9),n(17),{props:{isMinified:{type:Boolean,default:!1},isMobile:{type:Boolean,default:!1},inDetail:{type:Boolean,default:!1}},data:function(){return{activeDayToPopulate:"",activeDaySlots:[],currentStep:"first",isDismissed:!0,newType:{},locations:[],onCreated:!1,selectedDays:[],newTimeslot:{mondays:[],tuesdays:[],wednesdays:[],thursdays:[],fridays:[],saturdays:[]},mondayTabIsOpen:!0,tuesdayTabIsOpen:!1,wednesdayTabIsOpen:!1,thursdayTabIsOpen:!1,fridayTabIsOpen:!1,saturdayTabIsOpen:!1,days:[{id:1,label:"Lundi"},{id:2,label:"Mardi"},{id:3,label:"Mercredi"},{id:4,label:"Jeudi"},{id:5,label:"Vendredi"},{id:6,label:"Samedi"},{id:7,label:"Dimanche"}],timeSlots:["8h - 9h","9h - 10h","10h - 11h","11h - 12h","12h - 13h","13h - 14h","14H - 15H","15h - 16h","16H - 17H","17H - 18H"]}},computed:{publication:function(){var e=this;return function(t){return e.publications.find((function(e){return e.id===t}))}},reservation:function(){var e=this;return function(t){return e.reservations.find((function(e){return e.id===t}))}},visit:function(){var e=this;return function(t){return e.visits.find((function(e){return e.id===t}))}},appartment:function(){var e=this;return function(t){return e.appartments.find((function(e){return e.id===t}))}},appartmentType:function(){var e=this;return function(t){return e.appartmentTypes.find((function(e){return e.id===t}))}},paymentFrequency:function(){var e=this;return function(t){return e.paymentFrequencies.find((function(e){return e.id===t}))}},user:function(){var e=this;return function(t){return e.users.find((function(e){return e.id===t}))}},contract:function(){var e=this;return function(t){return e.contracts.find((function(e){return e.id===t}))}},findDay:function(){var e=this;return function(label){return e.selectedDays.find((function(e){return e.label===label}))}},selectAllDays:{get:function(){return!!this.days&&this.selectedDays.length===this.days.length},set:function(e){var t=this;e&&this.days.forEach((function(e){t.selectedDays.push(e.id)}))}}},watch:{conditions:function(e){0!==e.rent&&(this.advancePayment=e.rent*e.prepaidRentMonths)}},methods:{changeTab:function(e){switch(this.allTabClosed(),e){case"Lundi":this.mondayTabIsOpen=!0;break;case"Mardi":this.tuesdayTabIsOpen=!0;break;case"Mercredi":this.wednesdayTabIsOpen=!0;break;case"Jeudi":this.thursdayTabIsOpen=!0;break;case"Vendrdedi":this.fridayTabIsOpen=!0;break;case"Samedi":this.saturdayTabIsOpen=!0}},allTabClosed:function(){this.mondayTabIsOpen=!1,this.tuesdayTabIsOpen=!1,this.wednesdayTabIsOpen=!1,this.thursdayTabIsOpen=!1,this.fridayTabIsOpen=!1,this.saturdayTabIsOpen=!1},toDismiss:function(){this.isDismissed=!0,this.currentStep="first",this.selectedDays=[]},associateDayAndSlot:function(){var e=this;this.selectedDays.forEach((function(t){alert("trying to associate"),e.newTimeslot.push({day:e.timeSlots})}))},toDetails:function(e){this.$router.push({path:"/dashboard/appartements/"+e.id})},createTimeslots:function(){var e=this;this.onCreated=!0,this.$api.timeslotService.create({variables:{data:this.newTimeslot}}).then(function(){var t=Object(r.a)(regeneratorRuntime.mark((function t(n){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.newTimeslot={},e.currentStep="congrats",t.next=4,e.loadTimeslotFunc();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).finally((function(){e.onCreated=!1}))}}}),l=c,o=n(6),component=Object(o.a)(l,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"contents"},[e.inDetail?n("a",{staticClass:"flex flex-col px-8 py-4 hover:bg-gray-200",attrs:{href:"#"},on:{click:function(t){t.preventDefault(),e.isDismissed=!1}}},[n("span",{staticClass:"font-medium"},[e._v("Créneaux")])]):n("span",{staticClass:"icon cursor:pointer p-2",on:{click:function(t){t.preventDefault(),e.isDismissed=!1}}},[n("i",{staticClass:"far fa-calendar-alt"})]),e._v(" "),n("div",{staticClass:"flex items-center justify-center bg-black bg-opacity-75 h-screen w-screen fixed top-0 right-0 z-50",class:!0===e.isDismissed?"hidden":""},[n("div",{staticClass:"relative flex flex-col bg-white dark:bg-gray-800 overflow-hidden rounded-md h-full lg:h-5/6 justify-between",class:!0===e.isDismissed?"hidden":"",staticStyle:{width:"584px"}},[n("div",{staticClass:"text-start w-full p-4 sm:px-6 lg:p-8 z-20 pb-0 lg:pb-0 relative"},[n("div",{staticClass:"flex items-center justify-between"},[n("h4",{staticClass:"text-2xl font-medium mb-8 text-sky-550"},[e._v("\n            Créneaux horaires\n          ")]),e._v(" "),n("button",{staticClass:"ml-auto hover:text-blue-730 p-4 absolute top-2 right-2",on:{click:function(t){t.preventDefault(),e.isDismissed=!0,e.currentStep="first"}}},[n("svg",{staticClass:"w-6 h-6",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"}},[n("path",{attrs:{"fill-rule":"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z","clip-rule":"evenodd"}})])])]),e._v(" "),"congrats"!==e.currentStep?n("p",{staticClass:"text-lg mt-4 text-gray-600"},[e._v("\n          Choisissez un jour et cliquez sur les créneaux horaires désirés\n        ")]):e._e(),e._v(" "),"first"===e.currentStep?n("div",{staticClass:"first"},[n("p",{staticClass:"text-base mt-8 mb-4 text-gray-400"},[e._v("\n            Jours de la semaine\n          ")]),e._v(" "),n("div",{staticClass:"grid grid-cols-4 gap-4 mb-4"},[n("label",{staticClass:"p-2 py-4 bg-sky-50 align-center justify-center col-span-4",attrs:{for:"#"},on:{click:e.selectAllDays}},[n("input",{staticClass:"mr-2",attrs:{id:"",type:"checkbox",name:""}}),e._v("\n              Tous les jours\n            ")])]),e._v(" "),n("p",{staticClass:"text-base my-4 text-gray-400"},[e._v("\n            Faites votre choix\n          ")]),e._v(" "),n("div",{staticClass:"grid grid-cols-4 gap-4"},e._l(e.days,(function(t,r){return n("label",{key:r,staticClass:"p-2 py-4 bg-sky-50 align-center justify-center",attrs:{for:t.label}},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.selectedDays,expression:"selectedDays"}],staticClass:"mr-2",attrs:{type:"checkbox",name:t.label,id:t.label},domProps:{value:t,checked:Array.isArray(e.selectedDays)?e._i(e.selectedDays,t)>-1:e.selectedDays},on:{change:function(n){var r=e.selectedDays,c=n.target,l=!!c.checked;if(Array.isArray(r)){var o=t,d=e._i(r,o);c.checked?d<0&&(e.selectedDays=r.concat([o])):d>-1&&(e.selectedDays=r.slice(0,d).concat(r.slice(d+1)))}else e.selectedDays=l}}}),e._v("\n              "+e._s(t.label)+"\n            ")])})),0)]):e._e(),e._v(" "),"second"===e.currentStep?n("div",{staticClass:"first"},[n("div",[n("div",[n("p",{staticClass:"text-base mt-8 mb-4 text-gray-400"},[e._v("\n                Horaires disponibles\n              ")]),e._v(" "),e._m(0),e._v(" "),n("p",{staticClass:"text-base my-4 text-gray-400"},[e._v("\n                Faites votre choix\n              ")]),e._v(" "),n("div",{staticClass:"flex border-b border-gray-200 dark:border-gray-700 mb-4"},[e.findDay("Lundi")?n("button",{staticClass:"h-10 px-4 py-2 -mb-px text-sm text-center text-blue-600 bg-transparent border-b-2 sm:text-base dark:border-blue-400 dark:text-blue-300 whitespace-nowrap focus:outline-none",class:e.mondayTabIsOpen?"border-blue-500":"border-transparent",on:{click:function(t){return t.preventDefault(),e.changeTab("Lundi")}}},[e._v("\n                  Lundi\n                ")]):e._e(),e._v(" "),e.findDay("Mardi")?n("button",{staticClass:"h-10 px-4 py-2 -mb-px text-sm text-center text-blue-600 bg-transparent border-b-2 sm:text-base dark:border-blue-400 dark:text-blue-300 whitespace-nowrap focus:outline-none",class:e.tuesdayTabIsOpen?"border-blue-500":"border-transparent",on:{click:function(t){return t.preventDefault(),e.changeTab("Mardi")}}},[e._v("\n                  Mardi\n                ")]):e._e(),e._v(" "),e.findDay("Mercredi")?n("button",{staticClass:"h-10 px-4 py-2 -mb-px text-sm text-center text-blue-600 bg-transparent border-b-2 sm:text-base dark:border-blue-400 dark:text-blue-300 whitespace-nowrap focus:outline-none",class:e.wednesdayTabIsOpen?"border-blue-500":"border-transparent",on:{click:function(t){return t.preventDefault(),e.changeTab("Mercredi")}}},[e._v("\n                  Mercredi\n                ")]):e._e(),e._v(" "),e.findDay("Jeudi")?n("button",{staticClass:"h-10 px-4 py-2 -mb-px text-sm text-center text-blue-600 bg-transparent border-b-2 sm:text-base dark:border-blue-400 dark:text-blue-300 whitespace-nowrap focus:outline-none",class:e.thursdayTabIsOpen?"border-blue-500":"border-transparent",on:{click:function(t){return t.preventDefault(),e.changeTab("Jeudi")}}},[e._v("\n                  Jeudi\n                ")]):e._e(),e._v(" "),e.findDay("Vendredi")?n("button",{staticClass:"h-10 px-4 py-2 -mb-px text-sm text-center text-blue-600 bg-transparent border-b-2 sm:text-base dark:border-blue-400 dark:text-blue-300 whitespace-nowrap focus:outline-none",class:e.fridayTabIsOpen?"border-blue-500":"border-transparent",on:{click:function(t){return t.preventDefault(),e.changeTab("Vendredi")}}},[e._v("\n                  Vendredi\n                ")]):e._e(),e._v(" "),e.findDay("Samedi")?n("button",{staticClass:"h-10 px-4 py-2 -mb-px text-sm text-center text-blue-600 bg-transparent border-b-2 sm:text-base dark:border-blue-400 dark:text-blue-300 whitespace-nowrap focus:outline-none",class:e.saturdayTabIsOpen?"border-blue-500":"border-transparent",on:{click:function(t){return t.preventDefault(),e.changeTab("Samedi")}}},[e._v("\n                  Samedi\n                ")]):e._e()]),e._v(" "),e.mondayTabIsOpen?n("div",[e._v("\n                "+e._s(e.newTimeslot.mondays)+"\n                "),n("div",{staticClass:"grid grid-cols-4 gap-4"},e._l(e.timeSlots,(function(slot,t){return n("label",{key:t,staticClass:"p-2 py-4 bg-sky-50 align-center justify-center",attrs:{for:slot}},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.newTimeslot.mondays,expression:"newTimeslot.mondays"}],staticClass:"mr-2",attrs:{type:"checkbox",name:slot,id:slot},domProps:{value:slot,checked:Array.isArray(e.newTimeslot.mondays)?e._i(e.newTimeslot.mondays,slot)>-1:e.newTimeslot.mondays},on:{change:function(t){var n=e.newTimeslot.mondays,r=t.target,c=!!r.checked;if(Array.isArray(n)){var l=slot,o=e._i(n,l);r.checked?o<0&&e.$set(e.newTimeslot,"mondays",n.concat([l])):o>-1&&e.$set(e.newTimeslot,"mondays",n.slice(0,o).concat(n.slice(o+1)))}else e.$set(e.newTimeslot,"mondays",c)}}}),e._v("\n                    "+e._s(slot)+"\n                  ")])})),0)]):e._e(),e._v(" "),e.tuesdayTabIsOpen?n("div",[e._v("\n                "+e._s(e.newTimeslot.tuesdays)+"\n                "),n("div",{staticClass:"grid grid-cols-4 gap-4"},e._l(e.timeSlots,(function(slot,t){return n("label",{key:t,staticClass:"p-2 py-4 bg-sky-50 align-center justify-center",attrs:{for:slot}},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.newTimeslot.tuesdays,expression:"newTimeslot.tuesdays"}],staticClass:"mr-2",attrs:{type:"checkbox",name:slot,id:slot},domProps:{value:slot,checked:Array.isArray(e.newTimeslot.tuesdays)?e._i(e.newTimeslot.tuesdays,slot)>-1:e.newTimeslot.tuesdays},on:{change:function(t){var n=e.newTimeslot.tuesdays,r=t.target,c=!!r.checked;if(Array.isArray(n)){var l=slot,o=e._i(n,l);r.checked?o<0&&e.$set(e.newTimeslot,"tuesdays",n.concat([l])):o>-1&&e.$set(e.newTimeslot,"tuesdays",n.slice(0,o).concat(n.slice(o+1)))}else e.$set(e.newTimeslot,"tuesdays",c)}}}),e._v("\n                    "+e._s(slot)+"\n                  ")])})),0)]):e._e(),e._v(" "),e.wednesdayTabIsOpen?n("div",[n("div",{staticClass:"grid grid-cols-4 gap-4"},e._l(e.timeSlots,(function(slot,t){return n("label",{key:t,staticClass:"p-2 py-4 bg-sky-50 align-center justify-center",attrs:{for:slot}},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.newTimeslot.wednesdays,expression:"newTimeslot.wednesdays"}],staticClass:"mr-2",attrs:{type:"checkbox",name:slot,id:slot},domProps:{value:slot,checked:Array.isArray(e.newTimeslot.wednesdays)?e._i(e.newTimeslot.wednesdays,slot)>-1:e.newTimeslot.wednesdays},on:{change:function(t){var n=e.newTimeslot.wednesdays,r=t.target,c=!!r.checked;if(Array.isArray(n)){var l=slot,o=e._i(n,l);r.checked?o<0&&e.$set(e.newTimeslot,"wednesdays",n.concat([l])):o>-1&&e.$set(e.newTimeslot,"wednesdays",n.slice(0,o).concat(n.slice(o+1)))}else e.$set(e.newTimeslot,"wednesdays",c)}}}),e._v("\n                    "+e._s(slot)+"\n                  ")])})),0)]):e._e(),e._v(" "),e.thursdayTabIsOpen?n("div",[n("div",{staticClass:"grid grid-cols-4 gap-4"},e._l(e.timeSlots,(function(slot,t){return n("label",{key:t,staticClass:"p-2 py-4 bg-sky-50 align-center justify-center",attrs:{for:slot}},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.newTimeslot.thursdays,expression:"newTimeslot.thursdays"}],staticClass:"mr-2",attrs:{type:"checkbox",name:slot,id:slot},domProps:{value:slot,checked:Array.isArray(e.newTimeslot.thursdays)?e._i(e.newTimeslot.thursdays,slot)>-1:e.newTimeslot.thursdays},on:{change:function(t){var n=e.newTimeslot.thursdays,r=t.target,c=!!r.checked;if(Array.isArray(n)){var l=slot,o=e._i(n,l);r.checked?o<0&&e.$set(e.newTimeslot,"thursdays",n.concat([l])):o>-1&&e.$set(e.newTimeslot,"thursdays",n.slice(0,o).concat(n.slice(o+1)))}else e.$set(e.newTimeslot,"thursdays",c)}}}),e._v("\n                    "+e._s(slot)+"\n                  ")])})),0)]):e._e(),e._v(" "),e.fridayTabIsOpen?n("div",[n("div",{staticClass:"grid grid-cols-4 gap-4"},e._l(e.timeSlots,(function(slot,t){return n("label",{key:t,staticClass:"p-2 py-4 bg-sky-50 align-center justify-center",attrs:{for:slot}},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.newTimeslot.fridays,expression:"newTimeslot.fridays"}],staticClass:"mr-2",attrs:{type:"checkbox",name:slot,id:slot},domProps:{value:slot,checked:Array.isArray(e.newTimeslot.fridays)?e._i(e.newTimeslot.fridays,slot)>-1:e.newTimeslot.fridays},on:{change:function(t){var n=e.newTimeslot.fridays,r=t.target,c=!!r.checked;if(Array.isArray(n)){var l=slot,o=e._i(n,l);r.checked?o<0&&e.$set(e.newTimeslot,"fridays",n.concat([l])):o>-1&&e.$set(e.newTimeslot,"fridays",n.slice(0,o).concat(n.slice(o+1)))}else e.$set(e.newTimeslot,"fridays",c)}}}),e._v("\n                    "+e._s(slot)+"\n                  ")])})),0)]):e._e(),e._v(" "),e.saturdayTabIsOpen?n("div",[n("div",{staticClass:"grid grid-cols-4 gap-4"},e._l(e.timeSlots,(function(slot,t){return n("label",{key:t,staticClass:"p-2 py-4 bg-sky-50 align-center justify-center",attrs:{for:slot}},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.newTimeslot.saturdays,expression:"newTimeslot.saturdays"}],staticClass:"mr-2",attrs:{type:"checkbox",name:slot,id:slot},domProps:{value:slot,checked:Array.isArray(e.newTimeslot.saturdays)?e._i(e.newTimeslot.saturdays,slot)>-1:e.newTimeslot.saturdays},on:{change:function(t){var n=e.newTimeslot.saturdays,r=t.target,c=!!r.checked;if(Array.isArray(n)){var l=slot,o=e._i(n,l);r.checked?o<0&&e.$set(e.newTimeslot,"saturdays",n.concat([l])):o>-1&&e.$set(e.newTimeslot,"saturdays",n.slice(0,o).concat(n.slice(o+1)))}else e.$set(e.newTimeslot,"saturdays",c)}}}),e._v("\n                    "+e._s(slot)+"\n                  ")])})),0)]):e._e()])])]):e._e(),e._v(" "),"congrats"===e.currentStep?n("div",{staticClass:"congrats h-4/5 flex justify-center items-center"},[e._m(1)]):e._e()]),e._v(" "),"congrats"!==e.currentStep?n("div",{staticClass:"footer p-8 flex justify-between absolute w-full bg-white z-20 bottom-0"},[n("button",{staticClass:"w-1/2 py-4 text-sm px-8 leading-none border border-blue-990 font-medium rounded-md text-blue-990 hover:bg-gray-100 mr-4",attrs:{type:"button"},on:{click:function(t){t.preventDefault(),"second"===e.currentStep?e.currentStep="first":e.isDismissed=!0}}},["first"===e.currentStep?n("span",[e._v("Annuler")]):n("span",[e._v("Revenir")])]),e._v(" "),n("button",{staticClass:"relative w-1/2 shadow-btn-shadow border border-transparent py-4 text-sm px-8 leading-none rounded font-medium text-white bg-sky-550 hover:bg-blue-920",attrs:{type:"button"},on:{click:function(t){t.preventDefault(),"first"===e.currentStep?(e.currentStep="second",e.associateDayAndSlot):e.createTimeslots}}},["second"===e.currentStep?n("span",[e._v("\n            Enregistrer les horaires\n          ")]):n("span",[e._v("Suivant")]),e._v(" "),e.onCreated?n("loader",{staticClass:"ml-4 absolute top-1/2 right-2 transform -translate-y-1/2"}):e._e()],1)]):n("div",{staticClass:"footer p-8 flex justify-between absolute w-full bg-white z-20 bottom-0"},[n("button",{staticClass:"w-full py-4 text-sm px-8 leading-none border border-blue-990 font-medium rounded-md text-blue-990 hover:bg-gray-100 mr-4",attrs:{type:"button"},on:{click:function(t){t.preventDefault(),e.isDismissed=!0,e.currentStep="first"}}},[n("span",[e._v("Fermer")])])])])])])}),[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"grid grid-cols-4 gap-4 mb-4"},[n("label",{staticClass:"p-2 py-4 bg-sky-50 align-center justify-center col-span-4",attrs:{for:"#"}},[n("input",{staticClass:"mr-2",attrs:{type:"checkbox",name:"",id:""}}),e._v("\n                  Tous les créneaux\n                ")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"w-full px-16"},[n("img",{staticClass:"success-img mx-auto",attrs:{src:"/assets/images/success.svg",alt:"Logo Long Gontché"}}),e._v(" "),n("p",{staticClass:"text-lg lg:text-3xl -mt-8 lg:mt-12 text-blue-920 text-center"},[e._v("\n              Créneaux pour cet appartement ajoutés avec succès\n            ")]),e._v(" "),n("p",{staticClass:"lg:text-xl mt-2 lg:mt-4 text-blue-920 text-center"},[e._v("\n              ajouté avec succès\n            ")])])}],!1,null,null,null);t.default=component.exports;installComponents(component,{Loader:n(58).default})}}]);